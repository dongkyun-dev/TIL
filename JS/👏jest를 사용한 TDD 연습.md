# ðŸ‘jestë¥¼ ì‚¬ìš©í•œ TDD ì—°ìŠµ

>ìžë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ìµœê·¼ ëª‡ ë…„ê°„ ë¹„ì•½ì ì¸ ë°œì „ì„ í†µí•´ ì‚¬ìš© ë²”ìœ„ë¥¼ ë„“í˜€ì˜¤ê³  ìžˆìœ¼ë©°, í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ì—ì„œ ìš”êµ¬í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìˆ˜ì¤€ë„ ë‚˜ë‚ ì´ ë³µìž¡í•´ì§€ê³  ìžˆë‹¤. ì´ì™€ ë”ë¶ˆì–´ ìžë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í…ŒìŠ¤íŠ¸ í™˜ê²½ë„ ì§§ì€ ê¸°ê°„ ë™ì•ˆ ë§Žì€ ë³€í™”ë¥¼ ê²ªì—ˆëŠ”ë°, íŠ¹ížˆ [Node.js](https://nodejs.org/en/)ì˜ ë“±ìž¥ ì´í›„ ë¬´ìˆ˜ížˆ ë§Žì€ ë„êµ¬ê°€ ìŸì•„ì ¸ ë‚˜ì˜¤ë©° ë¹ ë¥¸ ì†ë„ë¡œ ë°œì „í•´ì˜¤ê³  ìžˆë‹¤.
>
>í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œëŠ” ì‚¬ìš©ìžì— ë”°ë¼ ë‹¤ì–‘í•œ í™˜ê²½(ë¸Œë¼ìš°ì €, ê¸°ê¸°, ìš´ì˜ì²´ì œ ë“±)ì—ì„œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸í•  ë•Œ ë§Žì€ ë³€ìˆ˜ë“¤ì„ ê³ ë ¤í•´ì•¼ í•œë‹¤. ì´ ë•Œë¬¸ì— ìžë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ í™˜ê²½ê³¼ í…ŒìŠ¤íŠ¸ ë„êµ¬ë“¤ì„ ì–¼ë§ˆë‚˜ ìž˜ ì´í•´í•˜ê³  ìžˆëŠ”ì§€ê°€ ì¤‘ìš”í•œ ìš”ì†Œì´ë©°, í”„ë¡œì íŠ¸ì˜ ì„±ê²©ì— ë§žê²Œ í…ŒìŠ¤íŠ¸ì˜ ë²”ìœ„ë‚˜ í…ŒìŠ¤íŠ¸ ëŒ€ìƒì„ ê²°ì •í•˜ëŠ” ë“±ì˜ ì „ëžµì„ ì„¸ìš¸ ë•Œì—ë„ ë§Žì€ ë…¸í•˜ìš°ê°€ í•„ìš”í•˜ë‹¤.
>
>https://ui.toast.com/fe-guide/ko_TEST
>
>í•´ë‹¹ ë¸”ë¡œê·¸ì— ì™œ ìžë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œì˜ TDDê°€ ì¤‘ìš”í•œì§€ì™€ ì—¬ëŸ¬ê°€ì§€ í…ŒìŠ¤íŠ¸ ë„êµ¬ë“¤ì— ëŒ€í•œ ì‚¬ìš©ë²•ë“¤ì„ ì„¤ëª…í•´ì£¼ê³  ìžˆë‹¤.
>
>ê·¸ì¤‘ì—ì„œë„ ê°€ìž¥ ì ìœ ìœ¨ì´ ë†’ì€ jestë¥¼ í•™ìŠµí•´ë³´ë ¤ í•œë‹¤.
>
>https://www.youtube.com/channel/UCxft4RZ8lrK_BdPNz8NOP7Q
>
>ìœ íŠœë¸Œ ì½”ë”©ì•™ë§ˆ ë‹˜ì˜ ê°•ì˜ë¥¼ ì°¸ê³ í•˜ì˜€ìŠµë‹ˆë‹¤. ì •ë§ ì¢‹ì€ ê°•ì˜ ê°ì‚¬í•©ë‹ˆë‹¤.

---

### 1. í”„ë¡œì íŠ¸ í´ë”ë¥¼ ë§Œë“¤ê³  ê¸°ë³¸ ì„¤ì •ì„ ìˆ˜í–‰í•œë‹¤

`$yarn init`    // `package.json` ìƒì„±

`$yarn add --dev jest`    // jest ì„¤ì¹˜

```javascript
"scripts": {
    "test": "jest"    // jest ì‹¤í–‰ì„ ìœ„í•œ ëª…ë ¹ì–´ ìˆ˜ì •
},
```



---

### 2. ì›í•˜ëŠ” ìžë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ìƒì„±í•œë‹¤.

`yarn test`ëª…ë ¹ì–´ë¥¼ í†µí•´ jestë¥¼ ì‹¤í–‰í•˜ê²Œ ë˜ë©´ í”„ë¡œì íŠ¸ ë‚´ì˜ ëª¨ë“  í…ŒìŠ¤íŠ¸ íŒŒì¼ë“¤ì´ ì‹¤í–‰ëœë‹¤. í…ŒìŠ¤íŠ¸ íŒŒì¼ë“¤ì´ëž€, `***.test.js`ì™€ ê°™ì´ ì¤‘ê°„ì— testê°€ ëª…ì‹œë˜ì–´ ìžˆëŠ” íŒŒì¼ í˜¹ì€ `__test__` í´ë” ì†ì— ìžˆëŠ” íŒŒì¼ë“¤ì„ ì˜ë¯¸í•œë‹¤.

```javascript
// fn.jsë¥¼ íŒŒì¼ëª…ìœ¼ë¡œ ì„¤ì •í•˜ê² ë‹¤.

const fn = {
  add: (num1, num2) => num1 + num2,
};

module.exports = fn;
```

```javascript
// í…ŒìŠ¤íŠ¸ ìˆ˜í–‰ì„ ìœ„í•œ íŒŒì¼
// fn.test.js

const fn = require("./fn");

test("1ì€ 1ì´ì•¼", () => {
  expect(1).toBe(1);
});

test("2 ë”í•˜ê¸° 3ì€ 5ì•¼", () => {
  expect(fn.add(2, 3)).toBe(5);
});

test("3 ë”í•˜ê¸° 3ì€ 5ì•¼", () => {
  expect(fn.add(3, 3)).not.toBe(5);
});
```

![jest_basic_test](../assets/img/jest_basic_test.jpg)

ë‹¤ìŒê³¼ ê°™ì´ í…ŒìŠ¤íŠ¸ê°€ ìž˜ ìˆ˜í–‰ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìžˆë‹¤.

testì˜ ì²«ë²ˆì§¸ ì¸ìžëŠ” í•´ë‹¹ í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ì„¤ëª…, ë‘ë²ˆì§¸ ì¸ìžëŠ” ì‹¤ì œ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì½œë°± í•¨ìˆ˜ê°€ ë“¤ì–´ê°„ë‹¤. ë‹¤ë¥¸ ê°œë°œìžê°€ ë´¤ì„ ë•Œ ì´ë¦„ë§Œ ë³´ê³  í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ ì–´ë– í•œ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìžˆë„ë¡ ìžì„¸í•˜ê²Œ í‘œí˜„í•´ë†“ì„ í•„ìš”ê°€ ìžˆë‹¤.

---

### ê¸°ë³¸í˜•ê³¼ ì°¸ì¡°í˜•

ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì¶”ê°€í•œë‹¤.

```javascript
const fn = {
  add: (num1, num2) => num1 + num2,
  makeUser: (name, age) => ({ name, age }),
};

module.exports = fn;
```

```javascript
const fn = require("./fn");

test("ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ì „ë‹¬ë°›ì•„ì„œ ê°ì²´ë¥¼ ë°˜í™˜í•´ì¤˜", () => {
  expect(fn.makeUser("Mike", 30)).toBe({
    name: "Mike",
    age: 30,
  });
});

test("ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ì „ë‹¬ë°›ì•„ì„œ ê°ì²´ë¥¼ ë°˜í™˜í•´ì¤˜", () => {
  expect(fn.makeUser("Mike", 30)).toEqual({
    name: "Mike",
    age: 30,
  });
});
```

ì´ëŸ° ì‹ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•´ë³´ë©´ ê²°ê³¼ëŠ” ì–´ë–¨ê¹Œ?

![primitive_jest](../assets/img/primitive_jest.jpg)

ë‹¤ìŒê³¼ ê°™ì´ `toBe`ë¥¼ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸ëŠ” ì‹¤íŒ¨í•˜ê³ , `toEqual`ì„ ì‚¬ìš©í•œ í…ŒìŠ¤íŠ¸ëŠ” ì„±ê³µí•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìžˆë‹¤.

ê·¸ ì´ìœ ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ê²€ì‚¬í•˜ëŠ” ê°’ì´ ì´ë²ˆì—ëŠ” ê¸°ë³¸í˜•ì´ ì•„ë‹Œ ì°¸ì¡°í˜• ì¦‰ ê°ì²´ì´ê¸° ë•Œë¬¸ì´ë‹¤.

í•˜ì§€ë§Œ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ë³´ê²Œë˜ë©´ `If it should pass with deep equality, replace "toBe" with "toStrictEqual"` ì¦‰, `toEqual`ë„ ì•„ë‹Œ `toStrictEqual`ì„ ì“°ë¼ê³  ëª…ì‹œë˜ì–´ ìžˆë‹¤.

---

### toEqualê³¼ toStrictEqual

ê¸°ì¡´ `makeUser` í•¨ìˆ˜ì— ì¸ìžê°’ì„ ì¶”ê°€í•˜ëŠ”ë° default ê°’ìœ¼ë¡œ `undefined`ë¥¼ ì¤€ë‹¤.

```javascript
const fn = {
  add: (num1, num2) => num1 + num2,
  makeUser: (name, age) => ({ name, age, gender: undefined }),
};

module.exports = fn;
```

```javascript
test("ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ì „ë‹¬ë°›ì•„ì„œ ê°ì²´ë¥¼ ë°˜í™˜í•´ì¤˜", () => {
  expect(fn.makeUser("Mike", 30)).toEqual({
    name: "Mike",
    age: 30,
  });
});

test("ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ì „ë‹¬ë°›ì•„ì„œ ê°ì²´ë¥¼ ë°˜í™˜í•´ì¤˜", () => {
  expect(fn.makeUser("Mike", 30)).toStrictEqual({
    name: "Mike",
    age: 30,
  });
});

test("ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ì „ë‹¬ë°›ì•„ì„œ ê°ì²´ë¥¼ ë°˜í™˜í•´ì¤˜", () => {
  expect(fn.makeUser("Mike", 30)).toStrictEqual({
    name: "Mike",
    age: 30,
    gender: undefined,
  });
});
```

![toStrictEqual](../assets/img/toStrictEqual.jpg)

í•´ë‹¹ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. ì¦‰, `toStrictEqual`ì´ ì¡°ê¸ˆ ë” ì—„ê²©í•œ ê²€ì‚¬ë¥¼ ìˆ˜í–‰í•˜ê²Œ ë˜ëŠ” ë©”ì„œë“œì´ë‹¤.

ê°œë°œìžì˜ ìž…ìž¥ì—ì„œ ë´¤ì„ ë•Œ `toStrictEqual`ì„ ì‚¬ìš©í–ˆì„ ë•Œ ë‚˜ì˜¤ëŠ” ê²°ê³¼ë¬¼ì´ ì‹¤ì œë¡œ ê¸°ëŒ€í–ˆë˜ ê²°ê³¼ë¬¼ì¼ ê²ƒì´ë‹¤. ë•Œë¬¸ì— `toEqual` ë³´ë‹¤ëŠ” `toStrictEqual`ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ì€ ì„ íƒì§€ê°€ ë  ê²ƒì´ë‹¤.

---

### ê¸°ë³¸ê°’ì„ ì²´í¬í•˜ëŠ” ë‹¤ë¥¸ ë©”ì„œë“œë“¤

| ë©”ì„œë“œ        | ì˜ë¯¸                     |
| ------------- | ------------------------ |
| toBeNull      | nullì˜ ìœ ë¬´ë§Œ í™•ì¸       |
| toBeUndefined | undefinedì˜ ìœ ë¬´ë§Œ í™•ì¸  |
| toBeDefined   | toBeUndefinedì˜ ë°˜ëŒ€     |
| toBeTruthy    | Booleanì˜ trueì¸ì§€ í™•ì¸  |
| toBeFalsy     | Booleanì˜ falseì¸ì§€ í™•ì¸ |

```javascript
test("nullì€ nullìž…ë‹ˆë‹¤", () => {
	expect(null).toBeNull();
});

test("ë¹„ì–´ìžˆì§€ ì•Šì€ ë¬¸ìžì—´ì€ trueìž…ë‹ˆë‹¤", () => {
	expect(fn.add("hello", "world")).toBeTruthy();
})
```

